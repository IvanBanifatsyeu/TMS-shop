<div class="shopping-cart">
  <h1 class="shopping-cart__title">Shopping Cart</h1>
  <svg
    class="shopping-cart__close-icon"
    icon="cart-close"
    (click)="hideCartPopup()"
  ></svg>
  <button
    class="shopping-cart__remove-btn remove-btn"
    (click)="removeAllFromCart($event)"
  >
    remove all
  </button>
  <div class="shopping-cart__card-list card-list">
    @for (item of this.listCart_s() ; track item.id) {
    <div class="cart-list__card-wrapper card-wrapper">
      <app-product-card
        [product]="item"
        class="product-card--inCart"
      ></app-product-card>
      <button
        class="card-wrapper__remove-btn remove-btn"
        (click)="removeFromCart(item, $event)"
      >
        Remove
      </button>
      <div class="card-wrapper__quantity-control quantity-control">
        @if(!iSshowQuantityPanel()) {

        <p class="quantity-control__quantity-num">{{ item.quantity }}</p>
        <button
          class="quantity-control__button-show-control"
          (click)="showPanelContol($event, item)"
        >
          –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        </button>
        } @else {
        <div class="quantity-control__choice-wrapper choice-wrapper">
          <button class="choice-wrapper__button" (click)="decrementCounter()">-</button>
          <div class="choice-wrapper__number">
            {{ this.counterQuantity_s() }}
          </div>
          <button class="choice-wrapper__button" (click)="incrementCounter()">+</button>
        </div>
        <button (click)="applyQuantity($event, item)">–ø—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        }
      </div>
      <div class="card-wrapper__total-price-card total-price-card">
        {{
          item.quantity && item.price
            ? (item.quantity * item.price | number : "1.2-2")
            : "error calculation üíÄ "
        }}
      </div>
    </div>
    }
  </div>
</div>
